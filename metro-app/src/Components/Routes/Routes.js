import React, { useState, useEffect } from 'react'; 
import "./Routes.css"

function Routes() {

  const [routes, setRoutes] = useState([])

  useEffect( () => {
    fetchRoutes(); 
  }, []); 

  let noRoutesAlertMessage = 'There was an issue fetching the routes list. Please try again later.';

  const fetchRoutes = async () => {
    const response = await fetch("/routes")
    const data = await response.json();

    if (response.status !== 200 ) {
      alert(<h1> { noRoutesAlertMessage } </h1>); 
      return; 
    }

    else {
      setRoutes(data);
      setRoutes((state) => {
        // check if route state was updated with route list 
        console.log('hi this the data find me find me', state);
        // state.slice(2); 
        // console.log('hi this the data find me find me', state);
        return state; 
      })
      
  }
}

if (routes.length === 0) return <div> <h1> Fetching routes... </h1> </div>

const showRoute = (route) => {
  console.log(`The route that you clicked is: `, route)
}

  return (
    <div className="Routes">
      <div>
        <img src="data:image/jpeg;base64,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"
        alt="Bus Icon"
        id="PopularBusRoutesIcon"
        /> 
      </div>
      { routes.map((route, index) => (
        <div id="mappedRoutesDiv" key={index} value={route["Route"]} 
        onClick={() => showRoute(route["Route"])}
        >
          {route["Route"]}
        </div>
      ))}
    </div>
  );
}

export default Routes;